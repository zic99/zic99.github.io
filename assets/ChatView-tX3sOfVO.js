import{_ as te,r as S,c as oe,w as ae,o as pe,a as C,b as O,d,F as he,e as ve,n as ee,f as ge,g as de,h as ie,i as je,j as se,k as N,t as F,l as Te}from"./index-CTvGhbrt.js";var K={exports:{}},$e=K.exports,le;function xe(){return le||(le=1,function(M,L){(function(f,p){M.exports=p()})($e,function(){var f=1e3,p=6e4,_=36e5,b="millisecond",y="second",D="minute",k="hour",z="day",H="week",g="month",j="quarter",l="year",r="date",c="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(o){var n=["th","st","nd","rd"],e=o%100;return"["+o+(n[(e-20)%10]||n[e]||n[0])+"]"}},q=function(o,n,e){var s=String(o);return!s||s.length>=n?o:""+Array(n+1-s.length).join(e)+o},E={s:q,z:function(o){var n=-o.utcOffset(),e=Math.abs(n),s=Math.floor(e/60),t=e%60;return(n<=0?"+":"-")+q(s,2,"0")+":"+q(t,2,"0")},m:function o(n,e){if(n.date()<e.date())return-o(e,n);var s=12*(e.year()-n.year())+(e.month()-n.month()),t=n.clone().add(s,g),a=e-t<0,i=n.clone().add(s+(a?-1:1),g);return+(-(s+(e-t)/(a?t-i:i-t))||0)},a:function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},p:function(o){return{M:g,y:l,w:H,d:z,D:r,h:k,m:D,s:y,ms:b,Q:j}[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(o){return o===void 0}},J="en",W={};W[J]=R;var re="$isDayjsObject",ne=function(o){return o instanceof X||!(!o||!o[re])},Z=function o(n,e,s){var t;if(!n)return J;if(typeof n=="string"){var a=n.toLowerCase();W[a]&&(t=a),e&&(W[a]=e,t=a);var i=n.split("-");if(!t&&i.length>1)return o(i[0])}else{var m=n.name;W[m]=n,t=m}return!s&&t&&(J=t),t||!s&&J},T=function(o,n){if(ne(o))return o.clone();var e=typeof n=="object"?n:{};return e.date=o,e.args=arguments,new X(e)},u=E;u.l=Z,u.i=ne,u.w=function(o,n){return T(o,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var X=function(){function o(e){this.$L=Z(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[re]=!0}var n=o.prototype;return n.parse=function(e){this.$d=function(s){var t=s.date,a=s.utc;if(t===null)return new Date(NaN);if(u.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var i=t.match(x);if(i){var m=i[2]-1||0,h=(i[7]||"0").substring(0,3);return a?new Date(Date.UTC(i[1],m,i[3]||1,i[4]||0,i[5]||0,i[6]||0,h)):new Date(i[1],m,i[3]||1,i[4]||0,i[5]||0,i[6]||0,h)}}return new Date(t)}(e),this.init()},n.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},n.$utils=function(){return u},n.isValid=function(){return this.$d.toString()!==c},n.isSame=function(e,s){var t=T(e);return this.startOf(s)<=t&&t<=this.endOf(s)},n.isAfter=function(e,s){return T(e)<this.startOf(s)},n.isBefore=function(e,s){return this.endOf(s)<T(e)},n.$g=function(e,s,t){return u.u(e)?this[s]:this.set(t,e)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(e,s){var t=this,a=!!u.u(s)||s,i=u.p(e),m=function(B,I){var V=u.w(t.$u?Date.UTC(t.$y,I,B):new Date(t.$y,I,B),t);return a?V:V.endOf(z)},h=function(B,I){return u.w(t.toDate()[B].apply(t.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(I)),t)},$=this.$W,w=this.$M,A=this.$D,U="set"+(this.$u?"UTC":"");switch(i){case l:return a?m(1,0):m(31,11);case g:return a?m(1,w):m(0,w+1);case H:var Y=this.$locale().weekStart||0,P=($<Y?$+7:$)-Y;return m(a?A-P:A+(6-P),w);case z:case r:return h(U+"Hours",0);case k:return h(U+"Minutes",1);case D:return h(U+"Seconds",2);case y:return h(U+"Milliseconds",3);default:return this.clone()}},n.endOf=function(e){return this.startOf(e,!1)},n.$set=function(e,s){var t,a=u.p(e),i="set"+(this.$u?"UTC":""),m=(t={},t[z]=i+"Date",t[r]=i+"Date",t[g]=i+"Month",t[l]=i+"FullYear",t[k]=i+"Hours",t[D]=i+"Minutes",t[y]=i+"Seconds",t[b]=i+"Milliseconds",t)[a],h=a===z?this.$D+(s-this.$W):s;if(a===g||a===l){var $=this.clone().set(r,1);$.$d[m](h),$.init(),this.$d=$.set(r,Math.min(this.$D,$.daysInMonth())).$d}else m&&this.$d[m](h);return this.init(),this},n.set=function(e,s){return this.clone().$set(e,s)},n.get=function(e){return this[u.p(e)]()},n.add=function(e,s){var t,a=this;e=Number(e);var i=u.p(s),m=function(w){var A=T(a);return u.w(A.date(A.date()+Math.round(w*e)),a)};if(i===g)return this.set(g,this.$M+e);if(i===l)return this.set(l,this.$y+e);if(i===z)return m(1);if(i===H)return m(7);var h=(t={},t[D]=p,t[k]=_,t[y]=f,t)[i]||1,$=this.$d.getTime()+e*h;return u.w($,this)},n.subtract=function(e,s){return this.add(-1*e,s)},n.format=function(e){var s=this,t=this.$locale();if(!this.isValid())return t.invalidDate||c;var a=e||"YYYY-MM-DDTHH:mm:ssZ",i=u.z(this),m=this.$H,h=this.$m,$=this.$M,w=t.weekdays,A=t.months,U=t.meridiem,Y=function(I,V,Q,G){return I&&(I[V]||I(s,a))||Q[V].slice(0,G)},P=function(I){return u.s(m%12||12,I,"0")},B=U||function(I,V,Q){var G=I<12?"AM":"PM";return Q?G.toLowerCase():G};return a.replace(v,function(I,V){return V||function(Q){switch(Q){case"YY":return String(s.$y).slice(-2);case"YYYY":return u.s(s.$y,4,"0");case"M":return $+1;case"MM":return u.s($+1,2,"0");case"MMM":return Y(t.monthsShort,$,A,3);case"MMMM":return Y(A,$);case"D":return s.$D;case"DD":return u.s(s.$D,2,"0");case"d":return String(s.$W);case"dd":return Y(t.weekdaysMin,s.$W,w,2);case"ddd":return Y(t.weekdaysShort,s.$W,w,3);case"dddd":return w[s.$W];case"H":return String(m);case"HH":return u.s(m,2,"0");case"h":return P(1);case"hh":return P(2);case"a":return B(m,h,!0);case"A":return B(m,h,!1);case"m":return String(h);case"mm":return u.s(h,2,"0");case"s":return String(s.$s);case"ss":return u.s(s.$s,2,"0");case"SSS":return u.s(s.$ms,3,"0");case"Z":return i}return null}(I)||i.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(e,s,t){var a,i=this,m=u.p(s),h=T(e),$=(h.utcOffset()-this.utcOffset())*p,w=this-h,A=function(){return u.m(i,h)};switch(m){case l:a=A()/12;break;case g:a=A();break;case j:a=A()/3;break;case H:a=(w-$)/6048e5;break;case z:a=(w-$)/864e5;break;case k:a=w/_;break;case D:a=w/p;break;case y:a=w/f;break;default:a=w}return t?a:u.a(a)},n.daysInMonth=function(){return this.endOf(g).$D},n.$locale=function(){return W[this.$L]},n.locale=function(e,s){if(!e)return this.$L;var t=this.clone(),a=Z(e,s,!0);return a&&(t.$L=a),t},n.clone=function(){return u.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},o}(),ue=X.prototype;return T.prototype=ue,[["$ms",b],["$s",y],["$m",D],["$H",k],["$W",z],["$M",g],["$y",l],["$D",r]].forEach(function(o){ue[o[1]]=function(n){return this.$g(n,o[0],o[1])}}),T.extend=function(o,n){return o.$i||(o(n,X,T),o.$i=!0),T},T.locale=Z,T.isDayjs=ne,T.unix=function(o){return T(1e3*o)},T.en=W[J],T.Ls=W,T.p={},T})}(K)),K.exports}xe();const me=20,Me={__name:"VirtualList",props:{items:Array,containerHeight:{type:Number,default:600},estimatedItemHeight:{type:Number,default:80}},setup(M,{expose:L}){const f=M,p=S(null),_=S([]),b=S(0),y=S(0),D=S(0);S(0);const k=S(0);function z(c,x){if(c){const v=c.offsetHeight;v&&_.value[x]!==v&&(_.value[x]=v,g())}}function H(c){let x=0;for(let v=0;v<c;v++)x+=_.value[v]||f.estimatedItemHeight;return x}function g(){k.value=f.items.reduce((c,x,v)=>c+(_.value[v]||f.estimatedItemHeight),0)}function j(){let c=0,x=0,v=f.items.length;for(let q=0;q<f.items.length;q++){const E=_.value[q]||f.estimatedItemHeight;if(c+E>D.value){x=q;break}c+=E}let R=0;for(v=x;v<f.items.length&&R<f.containerHeight;)R+=_.value[v]||f.estimatedItemHeight,v++;b.value=Math.max(0,x-me),y.value=Math.min(f.items.length,v+me)}const l=oe(()=>f.items.slice(b.value,y.value));function r(c){D.value=c.target.scrollTop,j()}return ae(()=>f.items,()=>{_.value=[],de(()=>{g(),j()})}),pe(()=>{g(),j()}),L({onScroll:r,updateVisibleRange:j}),(c,x)=>(O(),C("div",{class:"virtual-list",style:{height:"100%",overflowY:"auto",position:"relative"},onScroll:r,ref_key:"container",ref:p},[d("div",{style:ee({height:k.value+"px",position:"relative"})},[(O(!0),C(he,null,ve(l.value,(v,R)=>(O(),C("div",{key:v.id,ref_for:!0,ref:q=>z(q,b.value+R),style:ee({position:"absolute",width:"100%",top:H(b.value+R)+"px"})},[ge(c.$slots,"default",{item:v},void 0)],4))),128))],4)],544))}},_e=te(Me,[["__scopeId","data-v-94484858"]]),ce="/assets/Image_1083578313650448-B45b7cD2.jpg",fe="/assets/Image_1083567666771598-HBN7voJc.jpg",ye="/assets/qq-D5TZtWP0.png",we="/assets/huohua-DTAHrNL7.png",be="/assets/wx-Bg3sda2J.png",ze={class:"chat-container"},Se=["id"],De={key:0,class:"avatar-wrap"},Ie={key:0,class:"icon"},ke=["src"],He={key:1,class:"icon"},Ae=["src"],Ce={class:"message-content"},Oe={key:0,class:"quoteMessage"},qe={class:"quoteHeader"},Le=["onClick"],Ve=["onClick"],Ne=["src"],Re={key:1,class:"avatar-wrap"},We={__name:"ChatWindow",props:{virtualMessages:{type:Array,default:()=>[]},viewMode:{type:String,default:"self"}},emits:"jumpToMessageById",setup(M,{expose:L,emit:f}){const p=M;console.log(p.viewMode);const _=oe(()=>p.viewMode==="self"?fe:ce),b=oe(()=>p.viewMode==="self"?ce:fe);console.log(_.value,b.value);const y=S(null),D=()=>{y.value.updateVisibleRange()},k=j=>{if(j==="wx")return be;if(j==="qq")return ye;if(j==="huohua")return we},z=f,H=j=>{z("jumpToMessageById",j)},g=j=>{z("previewImage",j)};return L({updateVisibleRange:D}),(j,l)=>(O(),C("div",ze,[l[0]||(l[0]=d("div",{class:"chat-header"},[d("span",{class:"chat-title"},"i。")],-1)),ie(_e,{items:p.virtualMessages,"item-size":80,class:"scroller",ref_key:"virtualListRef",ref:y},{default:je(({item:r})=>[d("div",{id:`message-${r.id}`,class:se(["message-row",M.viewMode==="self"?r.sender==="zic"?"right":"left":r.sender==="zic"?"left":"right"])},[M.viewMode==="self"&&r.sender==="xjj"||M.viewMode==="other"&&r.sender==="zic"?(O(),C("div",De,[d("div",{class:"avatar",style:ee({backgroundImage:`url(${_.value})`})},null,4)])):N("",!0),d("div",{class:se(["bubble-wrap",M.viewMode==="self"?r.sender==="zic"?"right":"left":r.sender==="zic"?"left":"right"])},[d("div",{class:se(["message-bubble",M.viewMode==="self"?r.sender==="zic"?"right":"left":r.sender==="zic"?"left":"right"])},[r.sender==="xjj"?(O(),C("div",Ie,[d("img",{src:k(r.platform),alt:""},null,8,ke)])):N("",!0),r.sender==="zic"?(O(),C("div",He,[d("img",{src:k(r.platform),alt:""},null,8,Ae)])):N("",!0),d("div",Ce,[r.quoteMessage?(O(),C("div",Oe,[d("div",qe,[d("span",null,F(r.quoteMessage.sender),1),d("span",{onClick:c=>H(r.quoteMessage.id)},F("⤒"),9,Le)]),d("div",null,F(r.quoteMessage.content||(r.quoteMessage.image?"图片":"")),1)])):N("",!0),d("span",null,F(r.content),1)]),r.image?(O(),C("div",{key:2,class:"message-image",onClick:c=>g(r.image)},[d("img",{src:r.image,alt:""},null,8,Ne)],8,Ve)):N("",!0)],2)],2),M.viewMode==="self"&&r.sender==="zic"||M.viewMode==="other"&&r.sender==="xjj"?(O(),C("div",Re,[d("div",{class:"avatar",style:ee({backgroundImage:`url(${b.value})`})},null,4)])):N("",!0)],10,Se)]),_:1},8,["items"]),l[1]||(l[1]=d("div",{class:"chat-input-bar"},[d("input",{class:"chat-input",type:"text",placeholder:"",disabled:""}),d("button",{class:"chat-send-btn",disabled:""},"发送")],-1))]))}},Ye=te(We,[["__scopeId","data-v-b48dfc3d"]]),Be={key:0,class:"image-preview"},Ue={class:"preview-content"},Je=["src"],Pe={__name:"ImagePreview",props:{imageUrl:String},emits:["close"],setup(M,{emit:L}){S(!1);const f=L,p=()=>{f("close")};return(_,b)=>M.imageUrl?(O(),C("div",Be,[d("div",{class:"overlay",onClick:p}),d("div",Ue,[d("button",{style:{outline:"0","margin-bottom":"20px"},onClick:p},F("✖"),1),d("img",{src:M.imageUrl,alt:"Preview"},null,8,Je)])])):N("",!0)}},Qe=te(Pe,[["__scopeId","data-v-76550259"]]),Fe=JSON.parse('[{"id":1,"content":"你头像更可爱","timestamp":1742396160000,"sender":"xjj","event":"hello","platform":"huohua","image":null,"offsetTop":"0"},{"id":2,"content":"伊地知虹夏，孤独摇滚里的，你看过嘛","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":"56"},{"id":3,"content":"没有诶","timestamp":1742396160000,"sender":"xjj","event":"","platform":"qq","image":null,"offsetTop":"136"},{"id":4,"content":"今天刚玩 我试试这个","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":192},{"id":5,"content":"哈哈哈哈哈哈哈哈哈哈哈哈哈","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":248},{"id":6,"content":"Q：咳嗽不小心把口香糖吐到前面人头上...\\nA：告诉TA并道歉","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":304},{"id":7,"content":"A：告诉TA并道歉","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":408},{"id":8,"content":"Q：相信一见钟情还是日久生情？\\nA：日久生情","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":464},{"id":9,"content":"Q：宁愿被拒绝也要表达爱意，还是永远藏在心里不表白？\\nA：宁愿被拒绝也要表达爱意","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":544},{"id":10,"content":"A：日久生情","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":648},{"id":11,"content":"这个好纠结","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":704},{"id":12,"content":"A：宁愿被拒绝也要表达爱意","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":760},{"id":13,"content":"Q：失眠一星期还是一星期睡不醒？\\nA：一星期睡不醒","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":816},{"id":14,"content":"哈哈哈哈哈哈哈哈","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":896},{"id":15,"content":"A：一星期睡不醒","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":952},{"id":16,"content":"哈哈哈哈哈哈哈哈哈哈牛啊","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":1008},{"id":17,"content":"我也是，但最后，都会忍不住","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":1064},{"id":18,"content":"而且很容易触发人生三大错觉之一，她喜欢我","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":1120},{"id":19,"content":"哈哈哈哈哈哈哈哈哈哈","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":1200},{"id":20,"content":"也是哦","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":1256},{"id":21,"content":"而且说了说不定就有结局呢","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":1312},{"id":22,"content":"😭","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":1368},{"id":23,"content":"都是错觉","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":1424},{"id":24,"content":"说了一定有结局，指朋友也做不了","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":1480},{"id":25,"content":"看来你被伤过","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":1536},{"id":26,"content":"很早了，过去了，我现在强得可怕","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":1592},{"id":27,"content":"哇","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":1648},{"id":28,"content":"哈哈哈哈哈哈哈哈哈哈哈哈","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":1704},{"id":29,"content":"多强","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":1760},{"id":30,"content":"现在见到谁都不会喜欢了","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":1816},{"id":31,"content":"😇","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":1872},{"id":32,"content":"哈哈哈哈哈哈哈哈哈哈","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":1928},{"id":33,"content":"那的确挺强","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":1984},{"id":34,"content":"那你为什么下这个软件","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":2040},{"id":35,"content":"今天 听朋友说的","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":2096},{"id":36,"content":"好吧嘿嘿","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":2152},{"id":37,"content":"","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":"/src/assets/images/038932be4b191e1d2da90dd4c073ba53.jpeg","offsetTop":2208},{"id":38,"content":"你有点可爱，今年多大啦","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":2506},{"id":39,"content":"可以问吗","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":2562},{"id":40,"content":"21","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":2618},{"id":41,"content":"你呢","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":2674},{"id":42,"content":"","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":"/src/assets/images/038932be4b191e1d2da90dd4c073ba53.jpeg","offsetTop":2730},{"id":43,"content":"24","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":3028},{"id":44,"content":"比你大点点","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":3084},{"id":45,"content":"对嘿嘿","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":3140},{"id":46,"content":"大三？","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":3196},{"id":47,"content":"对!","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":3252},{"id":48,"content":"真好啊，我已经是社畜了😇","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":3308},{"id":49,"content":"哈哈哈哈哈哈哈哈哈哈哈","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":3364},{"id":50,"content":"社畜也挺好啊","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":3420},{"id":51,"content":"你在哪上学呢","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":3476},{"id":52,"content":"山东","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":3532},{"id":53,"content":"你呢","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":3588},{"id":54,"content":"我山西运城的，在西安上班","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":3644},{"id":55,"content":"之前在太原读的书","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":3700},{"id":56,"content":"哦哦","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":3756},{"id":57,"content":"明天有课吗","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":3812},{"id":58,"content":"早八","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":3868},{"id":59,"content":"🤣","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":3924},{"id":60,"content":"平时玩什么","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":3980},{"id":61,"content":"玩王者","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":4036},{"id":62,"content":"你呢","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":4092},{"id":63,"content":"周末和朋友玩英雄联盟，周内自己找点单机玩","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":4148},{"id":64,"content":"哈哈哈哈哈哈哈哈哈","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":4228},{"id":65,"content":"你不会是j人吧","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":4284},{"id":66,"content":"jp的j哈","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":4340},{"id":67,"content":"j人是什么，第一次听说","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":4396},{"id":68,"content":"emmmm 查了下 主观上j人 客观上不是","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":4452},{"id":69,"content":"哈哈哈哈哈哈哈哈","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":4532},{"id":70,"content":"因为拖延症会让一次计划不能顺利实施","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":4588},{"id":71,"content":"就是对自己的一天很有规划","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":4668},{"id":72,"content":"那你是p人","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":4724,"quoteMessage":{"id":70,"content":"因为拖延症会让一次计划不能顺利实施","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":"4588"}},{"id":73,"content":"但现实遇到问题要解决的时候会计划好","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":4852},{"id":74,"content":"那感觉还是p人","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":4932},{"id":75,"content":"因为计划好了也会拖延","timestamp":1742396160000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":5044,"quoteMessage":{"id":70,"content":"因为拖延症会让一次计划不能顺利实施","timestamp":1742396160000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":4588}},{"id":76,"content":"p人的p是procrastination的p","timestamp":1742397360000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":5544},{"id":77,"content":"这个就是我的盲区了哈哈哈哈哈哈哈哈哈哈","timestamp":1742397360000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":5600},{"id":78,"content":"拖延的意思","timestamp":1742397360000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":5680},{"id":79,"content":"哦哦","timestamp":1742397360000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":5736},{"id":80,"content":"我反正也是p人","timestamp":1742397360000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":5792},{"id":81,"content":"mbti以前不都是说i人和e人的吗","timestamp":1742397360000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":5848},{"id":82,"content":"哈哈哈哈哈哈哈哈","timestamp":1742397360000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":5904},{"id":83,"content":"那你是i还是e","timestamp":1742397360000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":5960},{"id":84,"content":"网上e，现实i","timestamp":1742397360000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":6016},{"id":85,"content":"火花炮弹X1","timestamp":1742397360000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":6072},{"id":86,"content":"Q:相信人性本善还是人性本恶\\nA：人性本恶","timestamp":1742397360000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":6128},{"id":87,"content":"A:人性本恶","timestamp":1742397000000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":"6424"},{"id":88,"content":"这个是我思考了好久的答案","timestamp":1742397000000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":"6480"},{"id":89,"content":"到目前为止完全默契诶","timestamp":1742397000000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":"6536"},{"id":90,"content":"","timestamp":1742397000000,"sender":"zic","event":"","platform":"huohua","image":"/src/assets/images/9c8b9a649ba9b48a457a74768823b153.jpg","offsetTop":"6592"},{"id":91,"content":"右边还真是我","timestamp":1742397000000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":"7193"},{"id":92,"content":"我左边哈哈哈哈哈哈哈哈哈哈哈","timestamp":1742397000000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":"7249"},{"id":93,"content":"原来是这样 8个字母代表四组","timestamp":1742397000000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":"7305"},{"id":94,"content":"你晚上几点睡觉呢","timestamp":1742397000000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":"7361"},{"id":95,"content":"我不知道嘿嘿","timestamp":1742398740000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":"7417"},{"id":96,"content":"困了就睡","timestamp":1742398740000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":7473},{"id":97,"content":"你呢","timestamp":1742398740000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":"7529"},{"id":98,"content":"你没测过mbti吗","timestamp":1742398740000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":"7585"},{"id":99,"content":"测过，不过以前只听说i/e人，所以只记得第一位是i了","timestamp":1742398740000,"sender":"zic","event":"","platform":"huohua","image":null,"offsetTop":"7641"},{"id":100,"content":"哈哈哈哈哈哈哈哈哈哈哈","timestamp":1742398740000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":"7721"},{"id":101,"content":"我猜你是","timestamp":1742398740000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":"7777"},{"id":102,"content":"infp","timestamp":1742398740000,"sender":"xjj","event":"","platform":"huohua","image":null,"offsetTop":"7777"}]'),Ee={class:"chat"},Ze={__name:"ChatView",setup(M){const L=S("self"),f=S(null),p=S([]);p.value=[...Fe];const _=()=>{de(()=>{console.log("触发");const l=document.querySelector(".scroller");l&&(console.log(f.value),f.value.updateVisibleRange(),setTimeout(()=>{l.scrollTop=l.scrollHeight},100))})};ae(p,()=>{console.log("触发监听"),_()},{deep:!0});const b=document.querySelector(".scroller");b&&b.addEventListener("scroll",()=>{console.log("Scrolled! Recalculate visible messages.")});const y=S(""),D=S([]);ae(y,()=>{if(y.value===""){D.value=[];return}const l=y.value.split(" ").filter(c=>c.trim()!==""),r=p.value.filter(c=>l.every(x=>new RegExp(x,"i").test(c.content)));D.value=r});const z=l=>{const{offsetTop:r}=p.value.find(x=>x.id==l),c=document.querySelector(".scroller");c&&c.scrollTo({top:r,behavior:"smooth"})},H=S(null),g=l=>{H.value=l},j=()=>{H.value=null};return Te({type:"",message:{}}),(l,r)=>(O(),C("div",Ee,[ie(Ye,{virtualMessages:p.value,onPreviewImage:g,viewMode:L.value,ref_key:"chatWindowRef",ref:f,onJumpToMessageById:z},null,8,["virtualMessages","viewMode"]),N("",!0),ie(Qe,{imageUrl:H.value,onClose:j},null,8,["imageUrl"])]))}},Ge=te(Ze,[["__scopeId","data-v-cac62b84"]]);export{Ge as default};
